<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Immersive 3D Animation Scene - A WebVR Experience built with A-Frame">
    <title>VR Experience | Dimensional Playground</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/vr-scene.css">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader"></div>
        <div class="loading-text">Initializing VR</div>
    </div>

    <!-- UI Controls -->
    <button id="toggle-info" class="toggle-btn">Controls</button>

    <div id="info-panel" class="glass-panel hidden">
        <h2>How to Play</h2>
        <p class="section-title">Navigation</p>
        <p>Drag to look around the scene</p>
        <p><kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> to move</p>
        <p>Touch and drag on mobile devices</p>

        <p class="section-title">Interactions</p>
        <p>Click or tap objects to score points</p>
        <p>Each click changes the object's color</p>
        <p>Hover over objects to preview them</p>

        <p class="section-title">Special Modes</p>
        <p>Party Mode speeds up all animations</p>
        <p>Zero Gravity makes objects float</p>
        <p>Spawn adds new random shapes</p>
        <p>Push makes objects move away from you</p>
        <p>Drop All enables physics simulation</p>
    </div>

    <button id="toggle-about" class="toggle-btn">About</button>

    <div id="about-panel" class="glass-panel hidden">
        <h2>About This Project</h2>
        <p>Welcome to the Dimensional Playground - an interactive 3D animation experience created to demonstrate modern WebVR capabilities using the A-Frame framework.</p>
        <p>This project showcases real-time 3D rendering, procedural animations, physics simulations, and dynamic audio feedback - all running directly in your web browser.</p>
        <p>Features include bouncing spheres, rotating geometric shapes, orbiting objects, particle systems, and multiple interactive game modes.</p>
        <div class="warning">
            <p><strong>Photosensitivity Warning:</strong> Party Mode contains rapid color changes and flashing effects. Please use caution if you are sensitive to such visual stimuli.</p>
        </div>
    </div>

    <div id="score-display">Score: 0</div>

    <div id="fun-controls">
        <button class="fun-button" id="party-mode">
            <span class="icon">&#127881;</span> Party Mode
        </button>
        <button class="fun-button" id="gravity-toggle">
            <span class="icon">&#127758;</span> Gravity
        </button>
        <button class="fun-button" id="add-object">
            <span class="icon">&#10010;</span> Spawn
        </button>
        <button class="fun-button" id="physics-drop">
            <span class="icon">&#11015;</span> Drop All
        </button>
        <button class="fun-button active" id="proximity-toggle">
            <span class="icon">&#128400;</span> Push
        </button>
    </div>

    <button id="back-button">
        <span>&#8592;</span> Exit Scene
    </button>

    <div id="exit-modal">
        <div class="modal-content">
            <h2>Leaving So Soon?</h2>
            <p>Are you sure you want to exit the VR experience and return to the project overview?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-yes" id="confirm-exit">Yes, Exit</button>
                <button class="modal-btn modal-btn-no" id="cancel-exit">Keep Playing</button>
            </div>
        </div>
    </div>

    <a-scene vr-mode-ui="enabled: true" loading-screen="enabled: false" physics="driver: local; debug: false; gravity: -9.8;">
        <!-- Assets -->
        <a-assets>
            <a-mixin id="glow" material="shader: flat; transparent: true; opacity: 0.6"></a-mixin>
        </a-assets>

        <!-- Camera Rig -->
        <a-entity id="camera-rig" position="0 1.6 4">
            <a-camera look-controls wasd-controls="acceleration: 100">
                <a-cursor
                    color="#FF6B6B"
                    fuse="true"
                    fuse-timeout="1200"
                    animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.5 0.5 0.5; dur: 1200"
                    animation__leave="property: scale; startEvents: mouseleave; to: 1 1 1; dur: 200">
                </a-cursor>
            </a-camera>
        </a-entity>

        <!-- Enhanced Lighting System -->
        <a-light type="ambient" color="#4a4a6a" intensity="0.4"></a-light>
        <a-light type="directional" color="#ffffff" intensity="0.6" position="2 8 4" cast-shadow="true"></a-light>

        <!-- Animated colored lights -->
        <a-light type="point" color="#FF6B6B" intensity="1.5" position="4 4 -4"
            animation="property: position; to: -4 4 4; dur: 6000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__intensity="property: intensity; to: 2.5; dur: 2000; dir: alternate; loop: true">
        </a-light>
        <a-light type="point" color="#4ECDC4" intensity="1.5" position="-4 3 4"
            animation="property: position; to: 4 5 -4; dur: 8000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__intensity="property: intensity; to: 2; dur: 3000; dir: alternate; loop: true">
        </a-light>
        <a-light type="point" color="#AA96DA" intensity="1" position="0 6 0"
            animation="property: color; to: #FCBAD3; dur: 5000; dir: alternate; loop: true">
        </a-light>

        <!-- Main Bouncing Sphere -->
        <a-sphere
            id="bouncing-ball"
            position="0 3 -5"
            radius="0.6"
            color="#4ECDC4"
            metalness="0.8"
            roughness="0.1"
            shadow="cast: true"
            animation="property: position; to: 0 0.6 -5; dur: 1200; easing: easeInOutQuad; dir: alternate; loop: true"
            animation__rotate="property: rotation; to: 360 720 360; dur: 4000; loop: true; easing: linear"
            animation__color="property: color; to: #FF6B6B; dur: 3000; dir: alternate; loop: true"
            animation__scale="property: scale; to: 1.1 0.9 1.1; dur: 600; dir: alternate; loop: true; easing: easeInOutQuad"
            class="clickable">
        </a-sphere>

        <!-- Glowing Ring around Sphere -->
        <a-torus
            position="0 1.8 -5"
            radius="1.2"
            radius-tubular="0.02"
            color="#4ECDC4"
            material="shader: flat; transparent: true; opacity: 0.5"
            animation="property: rotation; to: 90 360 0; dur: 6000; loop: true; easing: linear"
            animation__scale="property: scale; to: 1.2 1.2 1.2; dur: 2000; dir: alternate; loop: true">
        </a-torus>

        <!-- Spinning Cone with Trail Effect -->
        <a-entity position="3 0 -3">
            <a-cone
                id="spinning-cone"
                color="#95E1D3"
                position="0 0.5 0"
                radius-bottom="0.5"
                radius-top="0"
                height="1.2"
                metalness="0.6"
                roughness="0.2"
                shadow="cast: true"
                animation="property: rotation; to: 0 360 0; dur: 2000; easing: linear; loop: true"
                animation__bob="property: position; to: 0 2 0; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"
                animation__color="property: color; to: #A1FFCE; dur: 4000; dir: alternate; loop: true"
                class="clickable">
            </a-cone>
            <!-- Cone glow base -->
            <a-cylinder
                position="0 0.05 0"
                radius="0.7"
                height="0.05"
                color="#95E1D3"
                material="shader: flat; transparent: true; opacity: 0.3"
                animation="property: scale; to: 1.3 1 1.3; dur: 2500; dir: alternate; loop: true">
            </a-cylinder>
        </a-entity>

        <!-- Floating Cube Complex -->
        <a-entity position="-3 1.5 -3">
            <a-box
                id="floating-cube"
                position="0 0 0"
                width="0.8"
                height="0.8"
                depth="0.8"
                color="#F38181"
                metalness="0.7"
                roughness="0.15"
                shadow="cast: true"
                animation="property: position; to: 0 1 0; dur: 2000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__rotate="property: rotation; to: 360 720 360; dur: 8000; loop: true; easing: linear"
                animation__color="property: color; to: #FF6B6B; dur: 3500; dir: alternate; loop: true"
                class="clickable">
            </a-box>
            <!-- Orbiting mini cubes -->
            <a-entity animation="property: rotation; to: 0 360 0; dur: 4000; loop: true; easing: linear">
                <a-box position="1.2 0 0" width="0.15" height="0.15" depth="0.15" color="#FCBAD3" metalness="0.5"></a-box>
                <a-box position="-1.2 0 0" width="0.15" height="0.15" depth="0.15" color="#FFFFD2" metalness="0.5"></a-box>
                <a-box position="0 0 1.2" width="0.15" height="0.15" depth="0.15" color="#A1FFCE" metalness="0.5"></a-box>
                <a-box position="0 0 -1.2" width="0.15" height="0.15" depth="0.15" color="#FFDCB8" metalness="0.5"></a-box>
            </a-entity>
        </a-entity>

        <!-- Pulsing Torus with Inner Ring -->
        <a-entity position="0 2 -7">
            <a-torus
                id="pulsing-torus"
                position="0 0 0"
                color="#AA96DA"
                radius="0.7"
                radius-tubular="0.12"
                metalness="0.8"
                roughness="0.15"
                shadow="cast: true"
                animation="property: scale; to: 1.4 1.4 1.4; dur: 1500; dir: alternate; loop: true; easing: easeInOutQuad"
                animation__rotate="property: rotation; to: 360 720 360; dur: 6000; loop: true; easing: linear"
                animation__color="property: color; to: #FCBAD3; dur: 4000; dir: alternate; loop: true"
                class="clickable">
            </a-torus>
            <!-- Inner torus -->
            <a-torus
                position="0 0 0"
                color="#FFFFD2"
                radius="0.35"
                radius-tubular="0.06"
                metalness="0.9"
                roughness="0.1"
                animation="property: rotation; to: 720 360 0; dur: 4000; loop: true; easing: linear">
            </a-torus>
        </a-entity>

        <!-- Orbiting Cylinder System -->
        <a-entity id="orbit-container" position="0 1.5 -5">
            <!-- Main orbit -->
            <a-entity animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear">
                <a-cylinder position="2.5 0 0" radius="0.12" height="0.6" color="#FCBAD3" metalness="0.6"
                    animation="property: height; to: 1; dur: 1500; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="-2.5 0 0" radius="0.12" height="0.6" color="#FFFFD2" metalness="0.6"
                    animation="property: height; to: 1; dur: 1800; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="0 0 2.5" radius="0.12" height="0.6" color="#A1FFCE" metalness="0.6"
                    animation="property: height; to: 1; dur: 2000; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="0 0 -2.5" radius="0.12" height="0.6" color="#FFDCB8" metalness="0.6"
                    animation="property: height; to: 1; dur: 1600; dir: alternate; loop: true"></a-cylinder>
            </a-entity>
            <!-- Secondary orbit (opposite direction) -->
            <a-entity animation="property: rotation; to: 0 -360 0; dur: 7000; loop: true; easing: linear">
                <a-sphere position="1.8 0.5 0" radius="0.08" color="#FF6B6B" metalness="0.8"></a-sphere>
                <a-sphere position="-1.8 0.5 0" radius="0.08" color="#4ECDC4" metalness="0.8"></a-sphere>
                <a-sphere position="0 0.5 1.8" radius="0.08" color="#AA96DA" metalness="0.8"></a-sphere>
                <a-sphere position="0 0.5 -1.8" radius="0.08" color="#95E1D3" metalness="0.8"></a-sphere>
            </a-entity>
        </a-entity>

        <!-- Dodecahedron -->
        <a-dodecahedron
            id="floating-dodeca"
            position="4 2.5 -6"
            radius="0.5"
            color="#FFD93D"
            metalness="0.7"
            roughness="0.2"
            shadow="cast: true"
            animation="property: rotation; to: 360 360 720; dur: 12000; loop: true; easing: linear"
            animation__position="property: position; to: 4 3.5 -6; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__color="property: color; to: #FF8C00; dur: 5000; dir: alternate; loop: true"
            class="clickable">
        </a-dodecahedron>

        <!-- Icosahedron -->
        <a-icosahedron
            id="floating-icosa"
            position="-4 2 -6"
            radius="0.45"
            color="#6BCB77"
            metalness="0.75"
            roughness="0.15"
            shadow="cast: true"
            animation="property: rotation; to: -360 720 360; dur: 10000; loop: true; easing: linear"
            animation__position="property: position; to: -4 3 -6; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"
            animation__color="property: color; to: #4ECDC4; dur: 4000; dir: alternate; loop: true"
            class="clickable">
        </a-icosahedron>

        <!-- Particle Field -->
        <a-entity id="particles">
            <!-- Large glowing particles -->
            <a-sphere position="5 3 -8" radius="0.15" color="#FFD700" material="shader: flat"
                animation="property: position; to: 5 5 -8; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__opacity="property: material.opacity; to: 0.3; dur: 1500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-5 4 -8" radius="0.12" color="#FFD700" material="shader: flat"
                animation="property: position; to: -5 5.5 -8; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>
            <a-sphere position="3 5 -10" radius="0.1" color="#FFD700" material="shader: flat"
                animation="property: position; to: 3 6.5 -10; dur: 3500; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>
            <a-sphere position="-3 4.5 -9" radius="0.13" color="#FFD700" material="shader: flat"
                animation="property: position; to: -3 6 -9; dur: 2800; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>

            <!-- Small ambient particles -->
            <a-sphere position="2 2 -4" radius="0.05" color="#4ECDC4" material="shader: flat; opacity: 0.7"
                animation="property: position; to: 2.5 3 -4.5; dur: 4000; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-2 3 -6" radius="0.05" color="#FF6B6B" material="shader: flat; opacity: 0.7"
                animation="property: position; to: -2.5 4 -5.5; dur: 3500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="1 4 -8" radius="0.05" color="#AA96DA" material="shader: flat; opacity: 0.7"
                animation="property: position; to: 0.5 5 -7.5; dur: 4500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-1 2.5 -5" radius="0.05" color="#95E1D3" material="shader: flat; opacity: 0.7"
                animation="property: position; to: -0.5 3.5 -5.5; dur: 3800; dir: alternate; loop: true"></a-sphere>
        </a-entity>

        <!-- Ground with Grid Pattern -->
        <a-plane
            id="ground"
            position="0 0 0"
            rotation="-90 0 0"
            width="40"
            height="40"
            color="#1a1a2e"
            metalness="0.3"
            roughness="0.7"
            shadow="receive: true"
            static-body>
        </a-plane>

        <!-- Invisible physics walls to keep objects in play area -->
        <a-box position="0 2 -20" width="40" height="8" depth="0.5" visible="false" static-body></a-box>
        <a-box position="0 2 20" width="40" height="8" depth="0.5" visible="false" static-body></a-box>
        <a-box position="-20 2 0" width="0.5" height="8" depth="40" visible="false" static-body></a-box>
        <a-box position="20 2 0" width="0.5" height="8" depth="40" visible="false" static-body></a-box>

        <!-- Grid lines on ground -->
        <a-entity position="0 0.01 0" rotation="-90 0 0">
            <a-plane width="40" height="0.02" color="#4ECDC4" material="shader: flat; opacity: 0.2" position="0 0 0"></a-plane>
            <a-plane width="0.02" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.2" position="0 0 0"></a-plane>
            <a-plane width="40" height="0.01" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="0 5 0"></a-plane>
            <a-plane width="40" height="0.01" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="0 -5 0"></a-plane>
            <a-plane width="0.01" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="5 0 0"></a-plane>
            <a-plane width="0.01" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="-5 0 0"></a-plane>
        </a-entity>

        <!-- Animated Sky Gradient -->
        <a-sky
            color="#0f0f23"
            animation="property: color; to: #1a1a3e; dur: 15000; dir: alternate; loop: true; easing: easeInOutSine">
        </a-sky>

        <!-- Distant stars/particles -->
        <a-entity id="stars">
            <a-sphere position="10 8 -15" radius="0.08" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-12 10 -18" radius="0.06" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="8 12 -20" radius="0.07" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-8 9 -16" radius="0.05" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="15 7 -22" radius="0.09" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-15 11 -19" radius="0.06" color="#ffffff" material="shader: flat"></a-sphere>
        </a-entity>
    </a-scene>

    <script src="scripts/vr-scene.js"></script>
</body>

</html>
