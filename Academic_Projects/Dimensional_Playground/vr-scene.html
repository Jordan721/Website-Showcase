<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Immersive 3D Animation Scene - A WebVR Experience built with A-Frame">
    <title>VR Experience | Dimensional Playground</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }

        /* Glassmorphism UI Panels */
        .glass-panel {
            background: linear-gradient(135deg, rgba(20, 20, 40, 0.85) 0%, rgba(40, 40, 80, 0.75) 100%);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        #info-panel {
            position: absolute;
            top: 70px;
            left: 15px;
            color: white;
            padding: 20px;
            z-index: 1000;
            max-width: 280px;
            pointer-events: none;
            transform: translateX(0);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
        }

        #info-panel.hidden {
            transform: translateX(-120%);
            opacity: 0;
        }

        #info-panel h2 {
            font-family: 'Orbitron', sans-serif;
            margin: 0 0 15px 0;
            font-size: 16px;
            font-weight: 600;
            color: #4ECDC4;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #info-panel p {
            margin: 8px 0;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.5;
        }

        #info-panel .section-title {
            color: #FF6B6B;
            font-weight: 600;
            margin-top: 15px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        #info-panel kbd {
            background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Orbitron', monospace;
            font-size: 11px;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Toggle Buttons */
        .toggle-btn {
            position: absolute;
            top: 15px;
            background: linear-gradient(135deg, rgba(78, 205, 196, 0.9) 0%, rgba(68, 160, 141, 0.9) 100%);
            color: white;
            padding: 12px 18px;
            border: none;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-size: 12px;
            font-weight: 600;
            z-index: 1001;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .toggle-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.5);
        }

        .toggle-btn:active {
            transform: translateY(0) scale(0.98);
        }

        #toggle-info {
            left: 15px;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(200, 80, 80, 0.9) 100%);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        #toggle-info:hover {
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5);
        }

        #toggle-about {
            right: 15px;
        }

        /* About Panel */
        #about-panel {
            position: absolute;
            top: 70px;
            right: 15px;
            color: white;
            padding: 20px;
            z-index: 1000;
            max-width: 320px;
            pointer-events: none;
            transform: translateX(0);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
        }

        #about-panel.hidden {
            transform: translateX(120%);
            opacity: 0;
        }

        #about-panel h2 {
            font-family: 'Orbitron', sans-serif;
            margin: 0 0 15px 0;
            font-size: 16px;
            font-weight: 600;
            color: #4ECDC4;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #about-panel p {
            margin: 10px 0;
            font-size: 13px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.85);
        }

        #about-panel .warning {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2) 0%, rgba(255, 150, 150, 0.1) 100%);
            border: 1px solid rgba(255, 107, 107, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
        }

        #about-panel .warning strong {
            color: #FF6B6B;
        }

        /* Score Display */
        #score-display {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%) scale(0.9);
            background: linear-gradient(135deg, rgba(170, 150, 218, 0.95) 0%, rgba(130, 110, 180, 0.95) 100%);
            color: white;
            padding: 12px 28px;
            border-radius: 50px;
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
            font-weight: 700;
            z-index: 1000;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(170, 150, 218, 0.5);
            letter-spacing: 2px;
        }

        #score-display.visible {
            opacity: 1;
            transform: translateX(-50%) scale(1);
        }

        /* Fun Controls */
        #fun-controls {
            position: absolute;
            bottom: 25px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .fun-button {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(200, 80, 80, 0.9) 100%);
            color: white;
            padding: 14px 20px;
            border: none;
            border-radius: 14px;
            font-family: 'Inter', sans-serif;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .fun-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.5);
        }

        .fun-button:active {
            transform: translateY(0) scale(0.98);
        }

        .fun-button.active {
            background: linear-gradient(135deg, rgba(170, 150, 218, 0.95) 0%, rgba(130, 110, 180, 0.95) 100%);
            box-shadow: 0 4px 20px rgba(170, 150, 218, 0.5);
        }

        .fun-button .icon {
            font-size: 16px;
        }

        /* Back Button */
        #back-button {
            position: absolute;
            bottom: 25px;
            left: 20px;
            background: linear-gradient(135deg, rgba(78, 205, 196, 0.9) 0%, rgba(68, 160, 141, 0.9) 100%);
            color: white;
            padding: 14px 24px;
            border: none;
            border-radius: 14px;
            font-family: 'Inter', sans-serif;
            font-size: 13px;
            font-weight: 600;
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #back-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.5);
        }

        /* Modal */
        #exit-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #exit-modal.visible {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.98) 0%, rgba(50, 50, 90, 0.98) 100%);
            padding: 40px;
            border-radius: 24px;
            text-align: center;
            max-width: 420px;
            margin: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #exit-modal.visible .modal-content {
            transform: scale(1);
        }

        .modal-content h2 {
            font-family: 'Orbitron', sans-serif;
            color: #4ECDC4;
            margin: 0 0 15px 0;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-content p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0 0 30px 0;
            font-size: 15px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-btn-yes {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(200, 80, 80, 0.9) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .modal-btn-yes:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5);
        }

        .modal-btn-no {
            background: linear-gradient(135deg, rgba(78, 205, 196, 0.9) 0%, rgba(68, 160, 141, 0.9) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.4);
        }

        .modal-btn-no:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.5);
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        #loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader {
            width: 80px;
            height: 80px;
            border: 4px solid rgba(78, 205, 196, 0.2);
            border-top-color: #4ECDC4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .loading-text {
            font-family: 'Orbitron', sans-serif;
            color: #4ECDC4;
            margin-top: 25px;
            font-size: 14px;
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* VR Button Styling */
        .a-enter-vr-button {
            bottom: 85px !important;
            right: 20px !important;
            background: linear-gradient(135deg, rgba(170, 150, 218, 0.9) 0%, rgba(130, 110, 180, 0.9) 100%) !important;
            border: none !important;
            border-radius: 14px !important;
            padding: 14px 20px !important;
            font-family: 'Orbitron', sans-serif !important;
            font-size: 12px !important;
            font-weight: 600 !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
            box-shadow: 0 4px 15px rgba(170, 150, 218, 0.4) !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            opacity: 0;
            visibility: hidden;
        }

        .a-enter-vr-button.visible {
            opacity: 1;
            visibility: visible;
        }

        .a-enter-vr-button:hover {
            transform: translateY(-3px) scale(1.02) !important;
            box-shadow: 0 8px 25px rgba(170, 150, 218, 0.5) !important;
        }

        .a-enter-vr-button .vr-icon {
            font-size: 16px;
            margin-right: 6px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            #info-panel, #about-panel {
                display: none;
            }

            #info-panel.visible, #about-panel.visible {
                display: block;
                max-width: calc(100% - 30px);
                left: 15px;
                right: 15px;
            }

            .toggle-btn {
                padding: 10px 14px;
                font-size: 11px;
            }

            #fun-controls {
                bottom: 80px;
                right: 10px;
                left: 10px;
                justify-content: center;
                flex-wrap: wrap;
            }

            .fun-button {
                padding: 10px 14px;
                font-size: 11px;
            }

            #back-button {
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                padding: 10px 20px;
                font-size: 12px;
            }

            #back-button:hover {
                transform: translateX(-50%) translateY(-2px);
            }

            #score-display {
                font-size: 14px;
                padding: 10px 20px;
            }

            .modal-content {
                padding: 25px;
                margin: 15px;
            }

            .modal-content h2 {
                font-size: 18px;
            }

            .modal-btn {
                padding: 12px 20px;
                font-size: 13px;
            }

            .a-enter-vr-button {
                bottom: 145px !important;
                right: 10px !important;
                padding: 10px 14px !important;
                font-size: 10px !important;
            }
        }
    </style>
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader"></div>
        <div class="loading-text">Initializing VR</div>
    </div>

    <!-- UI Controls -->
    <button id="toggle-info" class="toggle-btn">Controls</button>

    <div id="info-panel" class="glass-panel hidden">
        <h2>How to Play</h2>
        <p class="section-title">Navigation</p>
        <p>Drag to look around the scene</p>
        <p><kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> to move</p>
        <p>Touch and drag on mobile devices</p>

        <p class="section-title">Interactions</p>
        <p>Click or tap objects to score points</p>
        <p>Each click changes the object's color</p>
        <p>Hover over objects to preview them</p>

        <p class="section-title">Special Modes</p>
        <p>Party Mode speeds up all animations</p>
        <p>Zero Gravity makes objects float</p>
        <p>Spawn adds new random shapes</p>
    </div>

    <button id="toggle-about" class="toggle-btn">About</button>

    <div id="about-panel" class="glass-panel hidden">
        <h2>About This Project</h2>
        <p>Welcome to the Dimensional Playground - an interactive 3D animation experience created to demonstrate modern WebVR capabilities using the A-Frame framework.</p>
        <p>This project showcases real-time 3D rendering, procedural animations, physics simulations, and dynamic audio feedback - all running directly in your web browser.</p>
        <p>Features include bouncing spheres, rotating geometric shapes, orbiting objects, particle systems, and multiple interactive game modes.</p>
        <div class="warning">
            <p><strong>Photosensitivity Warning:</strong> Party Mode contains rapid color changes and flashing effects. Please use caution if you are sensitive to such visual stimuli.</p>
        </div>
    </div>

    <div id="score-display">Score: 0</div>

    <div id="fun-controls">
        <button class="fun-button" id="party-mode">
            <span class="icon">&#127881;</span> Party Mode
        </button>
        <button class="fun-button" id="gravity-toggle">
            <span class="icon">&#127758;</span> Gravity
        </button>
        <button class="fun-button" id="add-object">
            <span class="icon">&#10010;</span> Spawn
        </button>
    </div>

    <button id="back-button">
        <span>&#8592;</span> Exit Scene
    </button>

    <div id="exit-modal">
        <div class="modal-content">
            <h2>Leaving So Soon?</h2>
            <p>Are you sure you want to exit the VR experience and return to the project overview?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-yes" id="confirm-exit">Yes, Exit</button>
                <button class="modal-btn modal-btn-no" id="cancel-exit">Keep Playing</button>
            </div>
        </div>
    </div>

    <a-scene vr-mode-ui="enabled: true" loading-screen="enabled: false">
        <!-- Assets -->
        <a-assets>
            <a-mixin id="glow" material="shader: flat; transparent: true; opacity: 0.6"></a-mixin>
        </a-assets>

        <!-- Camera Rig -->
        <a-entity id="camera-rig" position="0 1.6 4">
            <a-camera look-controls wasd-controls="acceleration: 100">
                <a-cursor
                    color="#FF6B6B"
                    fuse="true"
                    fuse-timeout="1200"
                    animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.5 0.5 0.5; dur: 1200"
                    animation__leave="property: scale; startEvents: mouseleave; to: 1 1 1; dur: 200">
                </a-cursor>
            </a-camera>
        </a-entity>

        <!-- Enhanced Lighting System -->
        <a-light type="ambient" color="#4a4a6a" intensity="0.4"></a-light>
        <a-light type="directional" color="#ffffff" intensity="0.6" position="2 8 4" cast-shadow="true"></a-light>

        <!-- Animated colored lights -->
        <a-light type="point" color="#FF6B6B" intensity="1.5" position="4 4 -4"
            animation="property: position; to: -4 4 4; dur: 6000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__intensity="property: intensity; to: 2.5; dur: 2000; dir: alternate; loop: true">
        </a-light>
        <a-light type="point" color="#4ECDC4" intensity="1.5" position="-4 3 4"
            animation="property: position; to: 4 5 -4; dur: 8000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__intensity="property: intensity; to: 2; dur: 3000; dir: alternate; loop: true">
        </a-light>
        <a-light type="point" color="#AA96DA" intensity="1" position="0 6 0"
            animation="property: color; to: #FCBAD3; dur: 5000; dir: alternate; loop: true">
        </a-light>

        <!-- Main Bouncing Sphere -->
        <a-sphere
            id="bouncing-ball"
            position="0 3 -5"
            radius="0.6"
            color="#4ECDC4"
            metalness="0.8"
            roughness="0.1"
            shadow="cast: true"
            animation="property: position; to: 0 0.6 -5; dur: 1200; easing: easeInOutQuad; dir: alternate; loop: true"
            animation__rotate="property: rotation; to: 360 720 360; dur: 4000; loop: true; easing: linear"
            animation__color="property: color; to: #FF6B6B; dur: 3000; dir: alternate; loop: true"
            animation__scale="property: scale; to: 1.1 0.9 1.1; dur: 600; dir: alternate; loop: true; easing: easeInOutQuad"
            class="clickable">
        </a-sphere>

        <!-- Glowing Ring around Sphere -->
        <a-torus
            position="0 1.8 -5"
            radius="1.2"
            radius-tubular="0.02"
            color="#4ECDC4"
            material="shader: flat; transparent: true; opacity: 0.5"
            animation="property: rotation; to: 90 360 0; dur: 6000; loop: true; easing: linear"
            animation__scale="property: scale; to: 1.2 1.2 1.2; dur: 2000; dir: alternate; loop: true">
        </a-torus>

        <!-- Spinning Cone with Trail Effect -->
        <a-entity position="3 0 -3">
            <a-cone
                id="spinning-cone"
                color="#95E1D3"
                position="0 0.5 0"
                radius-bottom="0.5"
                radius-top="0"
                height="1.2"
                metalness="0.6"
                roughness="0.2"
                shadow="cast: true"
                animation="property: rotation; to: 0 360 0; dur: 2000; easing: linear; loop: true"
                animation__bob="property: position; to: 0 2 0; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"
                animation__color="property: color; to: #A1FFCE; dur: 4000; dir: alternate; loop: true"
                class="clickable">
            </a-cone>
            <!-- Cone glow base -->
            <a-cylinder
                position="0 0.05 0"
                radius="0.7"
                height="0.05"
                color="#95E1D3"
                material="shader: flat; transparent: true; opacity: 0.3"
                animation="property: scale; to: 1.3 1 1.3; dur: 2500; dir: alternate; loop: true">
            </a-cylinder>
        </a-entity>

        <!-- Floating Cube Complex -->
        <a-entity position="-3 1.5 -3">
            <a-box
                id="floating-cube"
                position="0 0 0"
                width="0.8"
                height="0.8"
                depth="0.8"
                color="#F38181"
                metalness="0.7"
                roughness="0.15"
                shadow="cast: true"
                animation="property: position; to: 0 1 0; dur: 2000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__rotate="property: rotation; to: 360 720 360; dur: 8000; loop: true; easing: linear"
                animation__color="property: color; to: #FF6B6B; dur: 3500; dir: alternate; loop: true"
                class="clickable">
            </a-box>
            <!-- Orbiting mini cubes -->
            <a-entity animation="property: rotation; to: 0 360 0; dur: 4000; loop: true; easing: linear">
                <a-box position="1.2 0 0" width="0.15" height="0.15" depth="0.15" color="#FCBAD3" metalness="0.5"></a-box>
                <a-box position="-1.2 0 0" width="0.15" height="0.15" depth="0.15" color="#FFFFD2" metalness="0.5"></a-box>
                <a-box position="0 0 1.2" width="0.15" height="0.15" depth="0.15" color="#A1FFCE" metalness="0.5"></a-box>
                <a-box position="0 0 -1.2" width="0.15" height="0.15" depth="0.15" color="#FFDCB8" metalness="0.5"></a-box>
            </a-entity>
        </a-entity>

        <!-- Pulsing Torus with Inner Ring -->
        <a-entity position="0 2 -7">
            <a-torus
                id="pulsing-torus"
                position="0 0 0"
                color="#AA96DA"
                radius="0.7"
                radius-tubular="0.12"
                metalness="0.8"
                roughness="0.15"
                shadow="cast: true"
                animation="property: scale; to: 1.4 1.4 1.4; dur: 1500; dir: alternate; loop: true; easing: easeInOutQuad"
                animation__rotate="property: rotation; to: 360 720 360; dur: 6000; loop: true; easing: linear"
                animation__color="property: color; to: #FCBAD3; dur: 4000; dir: alternate; loop: true"
                class="clickable">
            </a-torus>
            <!-- Inner torus -->
            <a-torus
                position="0 0 0"
                color="#FFFFD2"
                radius="0.35"
                radius-tubular="0.06"
                metalness="0.9"
                roughness="0.1"
                animation="property: rotation; to: 720 360 0; dur: 4000; loop: true; easing: linear">
            </a-torus>
        </a-entity>

        <!-- Orbiting Cylinder System -->
        <a-entity id="orbit-container" position="0 1.5 -5">
            <!-- Main orbit -->
            <a-entity animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear">
                <a-cylinder position="2.5 0 0" radius="0.12" height="0.6" color="#FCBAD3" metalness="0.6"
                    animation="property: height; to: 1; dur: 1500; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="-2.5 0 0" radius="0.12" height="0.6" color="#FFFFD2" metalness="0.6"
                    animation="property: height; to: 1; dur: 1800; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="0 0 2.5" radius="0.12" height="0.6" color="#A1FFCE" metalness="0.6"
                    animation="property: height; to: 1; dur: 2000; dir: alternate; loop: true"></a-cylinder>
                <a-cylinder position="0 0 -2.5" radius="0.12" height="0.6" color="#FFDCB8" metalness="0.6"
                    animation="property: height; to: 1; dur: 1600; dir: alternate; loop: true"></a-cylinder>
            </a-entity>
            <!-- Secondary orbit (opposite direction) -->
            <a-entity animation="property: rotation; to: 0 -360 0; dur: 7000; loop: true; easing: linear">
                <a-sphere position="1.8 0.5 0" radius="0.08" color="#FF6B6B" metalness="0.8"></a-sphere>
                <a-sphere position="-1.8 0.5 0" radius="0.08" color="#4ECDC4" metalness="0.8"></a-sphere>
                <a-sphere position="0 0.5 1.8" radius="0.08" color="#AA96DA" metalness="0.8"></a-sphere>
                <a-sphere position="0 0.5 -1.8" radius="0.08" color="#95E1D3" metalness="0.8"></a-sphere>
            </a-entity>
        </a-entity>

        <!-- Dodecahedron -->
        <a-dodecahedron
            id="floating-dodeca"
            position="4 2.5 -6"
            radius="0.5"
            color="#FFD93D"
            metalness="0.7"
            roughness="0.2"
            shadow="cast: true"
            animation="property: rotation; to: 360 360 720; dur: 12000; loop: true; easing: linear"
            animation__position="property: position; to: 4 3.5 -6; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
            animation__color="property: color; to: #FF8C00; dur: 5000; dir: alternate; loop: true"
            class="clickable">
        </a-dodecahedron>

        <!-- Icosahedron -->
        <a-icosahedron
            id="floating-icosa"
            position="-4 2 -6"
            radius="0.45"
            color="#6BCB77"
            metalness="0.75"
            roughness="0.15"
            shadow="cast: true"
            animation="property: rotation; to: -360 720 360; dur: 10000; loop: true; easing: linear"
            animation__position="property: position; to: -4 3 -6; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"
            animation__color="property: color; to: #4ECDC4; dur: 4000; dir: alternate; loop: true"
            class="clickable">
        </a-icosahedron>

        <!-- Particle Field -->
        <a-entity id="particles">
            <!-- Large glowing particles -->
            <a-sphere position="5 3 -8" radius="0.15" color="#FFD700" material="shader: flat"
                animation="property: position; to: 5 5 -8; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__opacity="property: material.opacity; to: 0.3; dur: 1500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-5 4 -8" radius="0.12" color="#FFD700" material="shader: flat"
                animation="property: position; to: -5 5.5 -8; dur: 2500; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>
            <a-sphere position="3 5 -10" radius="0.1" color="#FFD700" material="shader: flat"
                animation="property: position; to: 3 6.5 -10; dur: 3500; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>
            <a-sphere position="-3 4.5 -9" radius="0.13" color="#FFD700" material="shader: flat"
                animation="property: position; to: -3 6 -9; dur: 2800; dir: alternate; loop: true; easing: easeInOutSine"></a-sphere>

            <!-- Small ambient particles -->
            <a-sphere position="2 2 -4" radius="0.05" color="#4ECDC4" material="shader: flat; opacity: 0.7"
                animation="property: position; to: 2.5 3 -4.5; dur: 4000; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-2 3 -6" radius="0.05" color="#FF6B6B" material="shader: flat; opacity: 0.7"
                animation="property: position; to: -2.5 4 -5.5; dur: 3500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="1 4 -8" radius="0.05" color="#AA96DA" material="shader: flat; opacity: 0.7"
                animation="property: position; to: 0.5 5 -7.5; dur: 4500; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-1 2.5 -5" radius="0.05" color="#95E1D3" material="shader: flat; opacity: 0.7"
                animation="property: position; to: -0.5 3.5 -5.5; dur: 3800; dir: alternate; loop: true"></a-sphere>
        </a-entity>

        <!-- Ground with Grid Pattern -->
        <a-plane
            id="ground"
            position="0 0 0"
            rotation="-90 0 0"
            width="40"
            height="40"
            color="#1a1a2e"
            metalness="0.3"
            roughness="0.7"
            shadow="receive: true">
        </a-plane>

        <!-- Grid lines on ground -->
        <a-entity position="0 0.01 0" rotation="-90 0 0">
            <a-plane width="40" height="0.02" color="#4ECDC4" material="shader: flat; opacity: 0.2" position="0 0 0"></a-plane>
            <a-plane width="0.02" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.2" position="0 0 0"></a-plane>
            <a-plane width="40" height="0.01" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="0 5 0"></a-plane>
            <a-plane width="40" height="0.01" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="0 -5 0"></a-plane>
            <a-plane width="0.01" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="5 0 0"></a-plane>
            <a-plane width="0.01" height="40" color="#4ECDC4" material="shader: flat; opacity: 0.1" position="-5 0 0"></a-plane>
        </a-entity>

        <!-- Animated Sky Gradient -->
        <a-sky
            color="#0f0f23"
            animation="property: color; to: #1a1a3e; dur: 15000; dir: alternate; loop: true; easing: easeInOutSine">
        </a-sky>

        <!-- Distant stars/particles -->
        <a-entity id="stars">
            <a-sphere position="10 8 -15" radius="0.08" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-12 10 -18" radius="0.06" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="8 12 -20" radius="0.07" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-8 9 -16" radius="0.05" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="15 7 -22" radius="0.09" color="#ffffff" material="shader: flat"></a-sphere>
            <a-sphere position="-15 11 -19" radius="0.06" color="#ffffff" material="shader: flat"></a-sphere>
        </a-entity>
    </a-scene>

    <script>
        // Game state
        let score = 0;
        let partyModeActive = false;
        let gravityEnabled = true;
        let originalAnimations = new Map();

        // Audio context for sound effects
        let audioContext;

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }

        function playSound(frequency, duration, type = 'sine', volume = 0.25) {
            if (!audioContext) return;

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const filter = audioContext.createBiquadFilter();

            oscillator.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = frequency;
            oscillator.type = type;

            filter.type = 'lowpass';
            filter.frequency.value = 2000;

            gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playChord(baseFreq, duration) {
            playSound(baseFreq, duration, 'sine', 0.15);
            playSound(baseFreq * 1.25, duration, 'sine', 0.1);
            playSound(baseFreq * 1.5, duration, 'sine', 0.08);
        }

        // Wait for scene to load
        document.addEventListener('DOMContentLoaded', function() {
            const scene = document.querySelector('a-scene');
            const loadingScreen = document.getElementById('loading-screen');

            scene.addEventListener('loaded', function() {
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    // Show VR button after loading screen fades
                    setTimeout(() => {
                        const vrButton = document.querySelector('.a-enter-vr-button');
                        if (vrButton) {
                            vrButton.classList.add('visible');
                            // Add icon and text to VR button
                            vrButton.innerHTML = '<span class="vr-icon">ðŸ¥½</span> Enter VR';
                        }
                    }, 400);
                }, 800);
                console.log('Dimensional Playground loaded successfully!');
            });

            // Initialize on first interaction
            document.body.addEventListener('click', initAudio, { once: true });
            document.body.addEventListener('touchstart', initAudio, { once: true });

            // UI Elements
            const scoreDisplay = document.getElementById('score-display');
            const toggleInfoBtn = document.getElementById('toggle-info');
            const infoPanel = document.getElementById('info-panel');
            const toggleAboutBtn = document.getElementById('toggle-about');
            const aboutPanel = document.getElementById('about-panel');
            const partyModeBtn = document.getElementById('party-mode');
            const gravityToggleBtn = document.getElementById('gravity-toggle');
            const addObjectBtn = document.getElementById('add-object');
            const backButton = document.getElementById('back-button');
            const exitModal = document.getElementById('exit-modal');
            const confirmExitBtn = document.getElementById('confirm-exit');
            const cancelExitBtn = document.getElementById('cancel-exit');

            // Panel toggles with smooth animations
            toggleInfoBtn.addEventListener('click', function() {
                initAudio();
                infoPanel.classList.toggle('hidden');
                infoPanel.classList.toggle('visible');
                playSound(600, 0.1, 'sine');
            });

            toggleAboutBtn.addEventListener('click', function() {
                initAudio();
                aboutPanel.classList.toggle('hidden');
                aboutPanel.classList.toggle('visible');
                playSound(600, 0.1, 'sine');
            });

            // Back button modal
            backButton.addEventListener('click', function() {
                initAudio();
                exitModal.classList.add('visible');
                playSound(400, 0.15, 'sine');
            });

            confirmExitBtn.addEventListener('click', function() {
                playChord(523, 0.3);
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 200);
            });

            cancelExitBtn.addEventListener('click', function() {
                exitModal.classList.remove('visible');
                playSound(523, 0.1, 'sine');
            });

            exitModal.addEventListener('click', function(e) {
                if (e.target === exitModal) {
                    exitModal.classList.remove('visible');
                    playSound(400, 0.1, 'sine');
                }
            });

            // Clickable objects interaction
            const clickableObjects = document.querySelectorAll('.clickable');

            clickableObjects.forEach(obj => {
                obj.addEventListener('click', function() {
                    initAudio();

                    // Generate harmonious random color
                    const hue = Math.random() * 360;
                    const saturation = 70 + Math.random() * 30;
                    const lightness = 50 + Math.random() * 20;
                    this.setAttribute('color', `hsl(${hue}, ${saturation}%, ${lightness}%)`);

                    // Scale pulse animation
                    const currentScale = this.getAttribute('scale') || {x: 1, y: 1, z: 1};
                    this.setAttribute('animation__click', {
                        property: 'scale',
                        from: `${currentScale.x} ${currentScale.y} ${currentScale.z}`,
                        to: `${currentScale.x * 1.4} ${currentScale.y * 1.4} ${currentScale.z * 1.4}`,
                        dur: 150,
                        dir: 'alternate',
                        loop: 1,
                        easing: 'easeOutElastic'
                    });

                    // Update score with animation
                    score += 10;
                    scoreDisplay.textContent = `Score: ${score}`;
                    scoreDisplay.classList.add('visible');

                    // Musical click sound (pentatonic scale)
                    const notes = [261.63, 293.66, 329.63, 392.00, 440.00, 523.25];
                    const note = notes[Math.floor(Math.random() * notes.length)];
                    playSound(note, 0.2, 'sine');
                });

                // Hover effects
                obj.addEventListener('mouseenter', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1.15 1.15 1.15',
                        dur: 200,
                        easing: 'easeOutQuad'
                    });
                    if (audioContext) playSound(880, 0.05, 'sine', 0.1);
                });

                obj.addEventListener('mouseleave', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1 1 1',
                        dur: 200,
                        easing: 'easeOutQuad'
                    });
                });
            });

            // Party Mode
            partyModeBtn.addEventListener('click', function() {
                initAudio();
                partyModeActive = !partyModeActive;

                if (partyModeActive) {
                    this.classList.add('active');
                    this.innerHTML = '<span class="icon">&#127882;</span> Party ON!';
                    playChord(523, 0.3);

                    // Speed up animations
                    document.querySelectorAll('[animation]').forEach(el => {
                        const anims = el.components;
                        Object.keys(anims).forEach(key => {
                            if (key.startsWith('animation')) {
                                const anim = el.getAttribute(key);
                                if (anim && anim.dur && !originalAnimations.has(el.id + key)) {
                                    originalAnimations.set(el.id + key, anim.dur);
                                    el.setAttribute(key, { ...anim, dur: anim.dur / 2.5 });
                                }
                            }
                        });
                    });

                    // Crazy sky colors
                    const sky = document.querySelector('a-sky');
                    sky.setAttribute('animation', {
                        property: 'color',
                        to: '#FF1493',
                        dur: 400,
                        dir: 'alternate',
                        loop: true
                    });
                } else {
                    this.classList.remove('active');
                    this.innerHTML = '<span class="icon">&#127881;</span> Party Mode';
                    playSound(400, 0.2, 'sine');
                    location.reload();
                }
            });

            // Gravity Toggle
            gravityToggleBtn.addEventListener('click', function() {
                initAudio();
                gravityEnabled = !gravityEnabled;

                const clickableObjs = document.querySelectorAll('.clickable');

                if (!gravityEnabled) {
                    this.classList.add('active');
                    this.innerHTML = '<span class="icon">&#128640;</span> Zero-G';
                    playSound(200, 0.3, 'triangle');

                    clickableObjs.forEach(obj => {
                        const pos = obj.getAttribute('position');
                        obj.setAttribute('animation__antigravity', {
                            property: 'position',
                            to: `${pos.x + (Math.random() - 0.5) * 2} ${pos.y + 4 + Math.random() * 2} ${pos.z + (Math.random() - 0.5) * 2}`,
                            dur: 3000,
                            easing: 'easeOutQuad'
                        });
                    });
                } else {
                    this.classList.remove('active');
                    this.innerHTML = '<span class="icon">&#127758;</span> Gravity';
                    playSound(100, 0.3, 'triangle');
                    location.reload();
                }
            });

            // Spawn Object
            addObjectBtn.addEventListener('click', function() {
                initAudio();
                playSound(600, 0.15, 'sawtooth');

                const scene = document.querySelector('a-scene');
                const shapes = ['a-sphere', 'a-box', 'a-cone', 'a-dodecahedron', 'a-icosahedron', 'a-torus'];
                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];

                const hue = Math.random() * 360;
                const color = `hsl(${hue}, 75%, 60%)`;

                const newObj = document.createElement(randomShape);
                newObj.setAttribute('position', {
                    x: (Math.random() - 0.5) * 8,
                    y: Math.random() * 3 + 2,
                    z: -4 - Math.random() * 6
                });
                newObj.setAttribute('color', color);
                newObj.setAttribute('metalness', 0.6 + Math.random() * 0.3);
                newObj.setAttribute('roughness', 0.1 + Math.random() * 0.2);
                newObj.setAttribute('shadow', 'cast: true');
                newObj.setAttribute('class', 'clickable');

                // Dynamic rotation animation
                const rotSpeed = 3000 + Math.random() * 5000;
                newObj.setAttribute('animation', {
                    property: 'rotation',
                    to: `${Math.random() * 360} ${360 + Math.random() * 360} ${Math.random() * 360}`,
                    dur: rotSpeed,
                    loop: true,
                    easing: 'linear'
                });

                // Floating animation
                newObj.setAttribute('animation__float', {
                    property: 'position',
                    to: `${newObj.getAttribute('position').x} ${newObj.getAttribute('position').y + 1 + Math.random()} ${newObj.getAttribute('position').z}`,
                    dur: 2000 + Math.random() * 2000,
                    dir: 'alternate',
                    loop: true,
                    easing: 'easeInOutSine'
                });

                // Set size based on shape
                const size = 0.3 + Math.random() * 0.4;
                if (randomShape === 'a-sphere' || randomShape === 'a-dodecahedron' || randomShape === 'a-icosahedron') {
                    newObj.setAttribute('radius', size);
                } else if (randomShape === 'a-box') {
                    newObj.setAttribute('width', size);
                    newObj.setAttribute('height', size);
                    newObj.setAttribute('depth', size);
                } else if (randomShape === 'a-torus') {
                    newObj.setAttribute('radius', size);
                    newObj.setAttribute('radius-tubular', size * 0.15);
                } else if (randomShape === 'a-cone') {
                    newObj.setAttribute('radius-bottom', size);
                    newObj.setAttribute('height', size * 2);
                }

                scene.appendChild(newObj);

                // Add click listener to new object
                newObj.addEventListener('click', function() {
                    const newHue = Math.random() * 360;
                    this.setAttribute('color', `hsl(${newHue}, 75%, 60%)`);
                    score += 10;
                    scoreDisplay.textContent = `Score: ${score}`;
                    scoreDisplay.classList.add('visible');

                    const notes = [261.63, 293.66, 329.63, 392.00, 440.00];
                    playSound(notes[Math.floor(Math.random() * notes.length)], 0.2, 'sine');
                });

                // Hover effects for new object
                newObj.addEventListener('mouseenter', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1.15 1.15 1.15',
                        dur: 200,
                        easing: 'easeOutQuad'
                    });
                });

                newObj.addEventListener('mouseleave', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1 1 1',
                        dur: 200,
                        easing: 'easeOutQuad'
                    });
                });
            });
        });
    </script>
</body>

</html>
