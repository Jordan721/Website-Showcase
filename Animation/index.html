<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive 3D Animation Scene with A-Frame WebVR">
    <title>Interactive A-Frame Animation</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        #info-panel {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: Arial, sans-serif;
            z-index: 1000;
            max-width: 300px;
        }

        #info-panel h2 {
            margin: 0 0 10px 0;
            font-size: 18px;
        }

        #info-panel p {
            margin: 5px 0;
            font-size: 14px;
        }

        #info-panel kbd {
            background: #333;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }

        #about-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: Arial, sans-serif;
            z-index: 1000;
            max-width: 320px;
        }

        #about-panel h2 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: #4ECDC4;
        }

        #about-panel p {
            margin: 5px 0;
            font-size: 13px;
            line-height: 1.5;
        }

        #back-button {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(78, 205, 196, 0.9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-family: Arial, sans-serif;
            text-decoration: none;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #back-button:hover {
            background: rgba(78, 205, 196, 1);
            transform: translateX(-5px);
        }

        #back-button::before {
            content: '‚Üê';
            font-size: 18px;
        }
    </style>
</head>

<body>
    <div id="info-panel">
        <h2>3D Animation Scene</h2>
        <p><strong>Controls:</strong></p>
        <p>üñ±Ô∏è Drag to look around</p>
        <p>üñ±Ô∏è Click objects to interact</p>
        <p><kbd>WASD</kbd> to move (desktop)</p>
        <p>üì± Tap objects on mobile</p>
    </div>

    <div id="about-panel">
        <h2>About This Project</h2>
        <p>This interactive 3D animation scene was created as a class assignment to explore web-based animation techniques using A-Frame (WebVR framework).</p>
        <p>Features bouncing balls, rotating objects, particle effects, and interactive click events to demonstrate various animation principles and 3D web development skills.</p>
    </div>

    <a href="../index.html" id="back-button">Back to Showcase</a>

    <a-scene>
        <!-- Camera with look controls -->
        <a-entity id="camera-rig" position="0 1.6 0">
            <a-camera look-controls wasd-controls>
                <a-cursor color="#FF6B6B" fuse="true" fuse-timeout="1500"></a-cursor>
            </a-camera>
        </a-entity>

        <!-- Lighting -->
        <a-light type="ambient" color="#BBB" intensity="0.5"></a-light>
        <a-light type="directional" color="#FFF" intensity="0.8" position="2 4 -1"></a-light>
        <a-light type="point" color="#FF6B6B" intensity="1" position="0 3 -5"
            animation="property: position; to: 0 3 5; dur: 4000; dir: alternate; loop: true"></a-light>

        <!-- Animated Sphere (Bouncing Ball) -->
        <a-sphere
            id="bouncing-ball"
            position="0 2 -5"
            radius="0.5"
            color="#4ECDC4"
            metalness="0.6"
            roughness="0.2"
            shadow="cast: true; receive: false"
            animation="property: position; to: 0 0.5 -5; dur: 1000; easing: easeInOutQuad; dir: alternate; loop: true"
            animation__rotate="property: rotation; to: 0 360 0; dur: 2000; loop: true"
            animation__color="property: color; to: #FF6B6B; dur: 2000; dir: alternate; loop: true"
            class="clickable">
        </a-sphere>

        <!-- Rotating Cone -->
        <a-cone
            id="spinning-cone"
            color="#95E1D3"
            position="2 0.5 -3"
            radius-bottom="0.5"
            radius-top="0"
            height="1"
            metalness="0.4"
            roughness="0.3"
            shadow="cast: true; receive: false"
            animation="property: rotation; to: 0 360 0; dur: 3000; easing: linear; loop: true"
            animation__position="property: position; to: 2 1.5 -3; dur: 2000; dir: alternate; loop: true"
            class="clickable">
        </a-cone>

        <!-- Floating Cube -->
        <a-box
            id="floating-cube"
            position="-2 1 -3"
            rotation="45 45 45"
            color="#F38181"
            metalness="0.7"
            roughness="0.1"
            shadow="cast: true; receive: false"
            animation="property: position; to: -2 2 -3; dur: 1500; dir: alternate; loop: true; easing: easeInOutSine"
            animation__rotate="property: rotation; to: 405 405 405; dur: 4000; loop: true; easing: linear"
            class="clickable">
        </a-box>

        <!-- Pulsing Torus -->
        <a-torus
            id="pulsing-torus"
            position="0 1.5 -4"
            color="#AA96DA"
            radius="0.5"
            radius-tubular="0.1"
            metalness="0.8"
            roughness="0.2"
            shadow="cast: true; receive: false"
            animation="property: scale; to: 1.3 1.3 1.3; dur: 1000; dir: alternate; loop: true; easing: easeInOutQuad"
            animation__rotate="property: rotation; to: 360 360 0; dur: 5000; loop: true; easing: linear"
            class="clickable">
        </a-torus>

        <!-- Orbiting Cylinders -->
        <a-entity id="orbit-container" position="0 1 -5" rotation="0 0 0"
            animation="property: rotation; to: 0 360 0; dur: 8000; loop: true; easing: linear">
            <a-cylinder position="1.5 0 0" radius="0.15" height="0.8" color="#FCBAD3" metalness="0.5"></a-cylinder>
            <a-cylinder position="-1.5 0 0" radius="0.15" height="0.8" color="#FFFFD2" metalness="0.5"></a-cylinder>
            <a-cylinder position="0 0 1.5" radius="0.15" height="0.8" color="#A1FFCE" metalness="0.5"></a-cylinder>
            <a-cylinder position="0 0 -1.5" radius="0.15" height="0.8" color="#FFDCB8" metalness="0.5"></a-cylinder>
        </a-entity>

        <!-- Ground Plane -->
        <a-plane
            position="0 0 0"
            rotation="-90 0 0"
            width="20"
            height="20"
            color="#EAEAEA"
            shadow="receive: true"
            metalness="0.2"
            roughness="0.8">
        </a-plane>

        <!-- Animated Sky -->
        <a-sky
            color="#87CEEB"
            animation="property: color; to: #FFB6C1; dur: 10000; dir: alternate; loop: true">
        </a-sky>

        <!-- Particle-like entities -->
        <a-entity id="particles">
            <a-sphere position="3 2 -4" radius="0.1" color="#FFD700"
                animation="property: position; to: 3 3 -4; dur: 2000; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="-3 2.5 -4" radius="0.1" color="#FFD700"
                animation="property: position; to: -3 3.5 -4; dur: 1800; dir: alternate; loop: true"></a-sphere>
            <a-sphere position="1.5 3 -6" radius="0.1" color="#FFD700"
                animation="property: position; to: 1.5 4 -6; dur: 2200; dir: alternate; loop: true"></a-sphere>
        </a-entity>
    </a-scene>

    <script>
        // Interactive click events
        document.addEventListener('DOMContentLoaded', function() {
            const clickableObjects = document.querySelectorAll('.clickable');

            clickableObjects.forEach(obj => {
                obj.addEventListener('click', function() {
                    // Random color on click
                    const randomColor = '#' + Math.floor(Math.random()*16777215).toString(16);
                    this.setAttribute('color', randomColor);

                    // Trigger scale pulse
                    const currentScale = this.getAttribute('scale') || {x: 1, y: 1, z: 1};
                    this.setAttribute('animation__click', {
                        property: 'scale',
                        to: `${currentScale.x * 1.5} ${currentScale.y * 1.5} ${currentScale.z * 1.5}`,
                        dur: 300,
                        dir: 'alternate',
                        loop: 1
                    });

                    console.log(`Clicked on ${this.id}`);
                });

                // Hover effect
                obj.addEventListener('mouseenter', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1.1 1.1 1.1',
                        dur: 200
                    });
                });

                obj.addEventListener('mouseleave', function() {
                    this.setAttribute('animation__hover', {
                        property: 'scale',
                        to: '1 1 1',
                        dur: 200
                    });
                });
            });

            // Log scene loaded
            const scene = document.querySelector('a-scene');
            scene.addEventListener('loaded', function() {
                console.log('üé® Interactive A-Frame scene loaded successfully!');
            });
        });
    </script>
</body>

</html>
